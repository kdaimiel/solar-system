<!--
 SolarSystemComponentSuite.html
 @Description Unit tests for solar-service polymer element.
 @link https://github.com/kdaimiel/solar-system#readme
 @author Enrique Daimiel Ruiz <k.daimiel@gmail.com>
 @license MIT License, http://www.opensource.org/licenses/MIT
-->
<!doctype html>
<html>
<head>
  <meta charset="UTF-8">

  <script src="../../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
  <script src="../../node_modules/web-component-tester/browser.js"></script>

  <script src="../../node_modules/three/build/three.js"></script>
  <script src="../../node_modules/three/examples/js/controls/TrackballControls.js"></script>
  <script src="../../node_modules/three/examples/js/objects/Lensflare.js"></script>

  <script src="../../src/js/geometries/RingsGeometry.js"></script>

  <script src="../../src/js/objects/SolarBody.js"></script>
  <script src="../../src/js/objects/CloudsMesh.js"></script>
  <script src="../../src/js/objects/PlanetMesh.js"></script>
  <script src="../../src/js/objects/MoonMesh.js"></script>
  <script src="../../src/js/objects/OrbitMesh.js"></script>
  <script src="../../src/js/objects/RingsMesh.js"></script>
  <script src="../../src/js/objects/StarMesh.js"></script>

  <script src="../../src/js/scene-builder.js"></script>
  <script src="../../src/js/scene-factory.js"></script>
  <script src="../../src/js/solar-factory.js"></script>
  <script src="../../src/js/solar-properties.js"></script>
  <script src="../../src/js/solar-service.js"></script>
  <script src="../../src/js/solar-system.js"></script>

  <script src="../../dist/solar-system-polymer.js" type="module"></script>

</head>
<body>

  <test-fixture id="solar-system-fixture">
    <template>
      <solar-system
        width="800"
        height="600"
        bodies-src="../../../../demo/data/bodies.properties.json"
        camera-src="../../../../demo/data/camera.properties.json"
        lights-src="../../../../demo/data/lights.properties.json"
      />
    </template>
  </test-fixture>

  <script>

    suite('<solar-system>', function() {

      // We use a fixture to avoid shared state between possible suites.
      var element;
      var canvas;
      setup(function() {
        element = fixture('solar-system-fixture');
        canvasElement = document.getElementsByTagName("canvas")[0];
      });

      test('Testing solar-system properties', function() {
        assert.equal(element.width, 800);
        assert.equal(element.height, 600);
        assert.equal(element.bodiesSrc, '../../../../demo/data/bodies.properties.json');
        assert.equal(element.cameraSrc, '../../../../demo/data/camera.properties.json');
        assert.equal(element.lightsSrc, '../../../../demo/data/lights.properties.json');
      });

      test('Testing canvas element created by solar-system', function() {
        assert.equal(canvasElement.width, 800);
        assert.equal(canvasElement.height, 600);
      });

    });
  </script>
</body>
</html>